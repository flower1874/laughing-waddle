import{k as e,v as t,x as s,p as a,y as l,c as i,w as c,i as n,o,a as u,d as m,t as d,b as g,r as h,F as r,l as f,z as p,e as _,m as b,h as k}from"./index-C-f9o1LJ.js";import{_ as L}from"./_plugin-vue_export-helper.BCo6x5W8.js";const C=L({data:()=>({content:"",imageList:[]}),methods:{chooseImage(){e({count:9-this.imageList.length,success:e=>{this.imageList=[...this.imageList,...e.tempFilePaths]}})},deleteImage(e){this.imageList.splice(e,1)},submitPost(){(this.content||0!==this.imageList.length)&&(t({title:"发布中..."}),setTimeout((()=>{s(),a({title:"发布成功",icon:"success"}),setTimeout((()=>{l()}),1500)}),2e3))}}},[["render",function(e,t,s,a,l,L){const C=p,x=n,I=k,v=_,y=b;return o(),i(x,{class:"create-container"},{default:c((()=>[u(x,{class:"input-section"},{default:c((()=>[u(C,{modelValue:l.content,"onUpdate:modelValue":t[0]||(t[0]=e=>l.content=e),placeholder:"分享你的植物养护心得...",maxlength:"500",class:"content-input"},null,8,["modelValue"]),u(x,{class:"word-count"},{default:c((()=>[m(d(l.content.length)+"/500",1)])),_:1})])),_:1}),u(x,{class:"image-section"},{default:c((()=>[u(x,{class:"image-list"},{default:c((()=>[(o(!0),g(r,null,h(l.imageList,((e,t)=>(o(),i(x,{class:"image-item",key:t},{default:c((()=>[u(I,{src:e,mode:"aspectFill"},null,8,["src"]),u(v,{class:"delete-btn",onClick:e=>L.deleteImage(t)},{default:c((()=>[m("×")])),_:2},1032,["onClick"])])),_:2},1024)))),128)),l.imageList.length<9?(o(),i(x,{key:0,class:"upload-btn",onClick:L.chooseImage},{default:c((()=>[u(v,{class:"iconfont icon-camera"}),u(v,null,{default:c((()=>[m("添加图片")])),_:1})])),_:1},8,["onClick"])):f("",!0)])),_:1}),u(v,{class:"tip"},{default:c((()=>[m("最多上传9张图片")])),_:1})])),_:1}),u(x,{class:"submit-section"},{default:c((()=>[u(y,{class:"submit-btn",disabled:!l.content&&0===l.imageList.length,onClick:L.submitPost},{default:c((()=>[m(" 发布 ")])),_:1},8,["disabled","onClick"])])),_:1})])),_:1})}],["__scopeId","data-v-3453ece0"]]);export{C as default};
